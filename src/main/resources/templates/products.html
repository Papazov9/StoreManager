<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products</title>
    <link rel="stylesheet" href="/css/products.css">
    <th:block th:replace="~{fragments/common::head}"></th:block>
</head>
<body>
<div>
    <th:block th:replace="~{fragments/common::loggedNav}"></th:block>
</div>

<div class="container">
    <h2 class="text-center text-danger m-2">Search for products</h2>
    <form
            th:method="GET"
            th:action="@{/products/search}"
            th:object="${productBinding}"
            class="form-inline" style="justify-content: center; margin-top: 50px; margin-bottom: 10px">

        <div style="position: relative">

            <input
                    th:field="*{returnItemId}"
                    class="form-control mr-sm-2"  style="width: 120px;"
                    type="search"
                    placeholder="Return Id..."
                    aria-label="Search"
                    id="returnItemId">

            <input
                    th:field="*{asin}"
                    class="form-control mr-sm-2"
                    style="width: 120px;"
                    type="search"
                    placeholder="ASIN..."
                    aria-label="Search"
                    id="asin">

            <input
                    th:field="*{category}"
                    class="form-control mr-sm-2"
                    style="width: 120px;"
                    type="search"
                    placeholder="Category..."
                    aria-label="Search"
                    id="category">

            <input
                    th:field="*{condition}"
                    class="form-control mr-sm-2"
                    style="width: 120px;"
                    type="search"
                    placeholder="Condition..."
                    aria-label="Search"
                    id="condition">

            <input
                    th:field="*{department}"
                    class="form-control mr-sm-2"
                    style="width: 120px;"
                    type="search"
                    placeholder="Department..."
                    aria-label="Search"
                    id="department">

            <input
                    th:field="*{ean}"
                    class="form-control mr-sm-2"
                    style="width: 120px;"
                    type="search"
                    placeholder="EAN..."
                    aria-label="Search"
                    id="ean">

            <input
                    th:field="*{lpn}"
                    class="form-control mr-sm-2"
                    style="width: 120px;"
                    type="search"
                    placeholder="LPN..."
                    aria-label="Search"
                    id="lpn">

            <input
                    th:field="*{palletId}"
                    class="form-control mr-sm-2"
                    style="width: 120px;"
                    type="search"
                    placeholder="Pallet Id..."
                    aria-label="Search"
                    id="palletId">

            <small
                    id="searchOfferHelpInline"
                    class="bg-danger text-light rounded invalid-feedback"
                    style="width: 97%; position: absolute; padding: 3px 15px; text-align: center;"
            >
                No search criteria chosen.
            </small>
        </div>
        <button class="btn btn-outline-info my-2 my-sm-0" type="submit">Search</button>
    </form>
</div>

<div>
<!--    Тук е за намерени продукти ! Но тъй като не намира никакви не работи :) -->
    <table class="table table-striped table-bordered table-sm">
        <thead>
        <tr th:each="p: ${productsFound}">
            <th th:text="${p.id}">ID</th>
            <th th:text="${p.returnItemId}">Return Item Id</th>
            <th th:text="${p.asin}">ASIN</th>
            <th th:text="${p.category}">Category</th>
            <th th:text="${p.condition}">Product Condition</th>
            <th th:text="${p.currencyCode}">Currency Code</th>
            <th th:text="${p.department}">Department</th>
            <th th:text="${p.description}">Product Description</th>
            <th th:text="${p.ean}">EAN</th>
            <th th:text="${p.lpn}">LPN</th>
            <th th:text="${p.palletId}">Pallet ID</th>
            <th th:text="${p.quantity}">quantity</th>
            <th th:text="${p.subCategory}">Sub Category</th>
            <th th:text="${p.totalRetail}">Total Retail</th>

        </tr>
        </thead>
        <tbody>

        </tbody>
    </table>
</div>

<div class="productTableDiv">

    <table id="productsTable" class="table table-striped table-bordered table-sm cell">
        <thead>
        <tr>
            <th></th>
            <th>ID</th>
            <th>Return Item Id</th>
            <th>ASIN</th>
            <th>Category</th>
            <th>Product Condition</th>
            <th>Currency Code</th>
            <th>Department</th>
            <th>Product Description</th>
            <th>EAN</th>
            <th>LPN</th>
            <th>Pallet ID</th>
            <th>quantity</th>
            <th>Sub Category</th>
            <th>Total Retail</th>


        </tr>
        </thead>
        <tbody id="productTableBody">
        <tr th:each="p: ${allProducts}">
            <th>
            <button type="button" class="btn btn-danger" id="btnMSb" aria-expanded="false" th:onclick="toggle(this.id,'#toggleID');" aria-controls="toggleID" aria-label="3 more from" aria-labelledby="btnMSb lblMSb">
                <svg viewBox="0 0 1024 1024" class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M460 459.3m-245.2 0a245.2 245.2 0 1 0 490.4 0 245.2 245.2 0 1 0-490.4 0Z" fill="#E1F0FF"></path><path d="M460 719c-69.4 0-134.6-27-183.6-76.1s-76.1-114.3-76.1-183.6c0-69.4 27-134.6 76.1-183.6s114.3-76.1 183.6-76.1c69.4 0 134.6 27 183.6 76.1s76.1 114.3 76.1 183.6c0 69.4-27 134.6-76.1 183.6S529.4 719 460 719z m0-490.4c-61.6 0-119.6 24-163.1 67.6-43.6 43.6-67.6 101.5-67.6 163.1s24 119.6 67.6 163.1C340.4 666 398.4 690 460 690s119.6-24 163.1-67.6c43.6-43.6 67.6-101.5 67.6-163.1s-24-119.6-67.6-163.1c-43.5-43.6-101.5-67.6-163.1-67.6z" fill="#446EB1"></path><path d="M640.6 630.6c8.7-8.7 22.8-8.7 31.5 0L802 760.5c8.6 8.9 8.3 23-0.5 31.5-8.6 8.3-22.3 8.3-31 0L640.6 662.1c-8.4-8.6-8.1-22.6 0-31.5z" fill="#446EB1"></path></g></svg>
            </button>
        </th>
            <th th:text="${p.id}">ID</th>
            <th th:text="${p.returnItemId}">Return Item Id</th>
            <th th:text="${p.asin}">ASIN</th>
            <th th:text="${p.category}">Category</th>
            <th th:text="${p.condition}">Product Condition</th>
            <th th:text="${p.currencyCode}">Currency Code</th>
            <th th:text="${p.department}">Department</th>
            <th th:text="${p.shortenDescription}">Product Description</th>
            <th th:text="${p.ean}">EAN</th>
            <th th:text="${p.lpn}">LPN</th>
            <th th:text="${p.palletId}">Pallet ID</th>
            <th th:text="${p.quantity}">quantity</th>
            <th th:text="${p.subCategory}">Sub Category</th>
            <th th:text="${p.totalRetail}">Total Retail</th>

        </tr>
        </tbody>
    </table>
</div>

<th:block th:replace="~{fragments/common::footer}"></th:block>
<!--<script th:src="@{/js/productTable.js}"></script>-->
</body>
</html>